# Development overrides - Auto-loaded by docker-compose
# Enables hot-reload for Python code changes
#
# To disable: rename to docker-compose.override.yml.disabled
# For production: delete this file or use docker-compose.prod.yml

version: '3.8'

services:
  server:
    # Override the command to enable uvicorn reload
    command: >
      uvicorn server:app
      --host 0.0.0.0
      --port 8080
      --reload
      --reload-dir /app
      --reload-include "*.py"
    environment:
      - MQTT_BROKER=mqtt
      - MQTT_PORT=1883
      - ML_SERVER_ENABLED=true
      - DEV_MODE=true
